{% extends "base.html" %}

{% block title %}æˆ‘çš„èƒŒåŒ… - PUBGæ­¦å™¨ç®¡ç†ç³»ç»Ÿ{% endblock %}

{% block content %}
<div class="backpack-page">
    <h2>ğŸ’ æˆ‘çš„èƒŒåŒ…</h2>

    {% if weapons %}
    <p class="subtitle">ä½ æœ‰ {{ weapons|length }} ä»¶æ­¦å™¨</p>

    <div class="weapon-list">
        {% for weapon in weapons %}
        <div class="weapon-item">
            <div class="weapon-info">
                <h3>{{ weapon.name }}</h3>
                <span class="weapon-type-badge">{{ weapon.weapon_type }}</span>
            </div>

            <div class="weapon-stats-inline">
                <span>ğŸ’¥ {{ weapon.damage }}</span>
                <span>ğŸ”¥ {{ weapon.fire_rate }}</span>
                <span>ğŸ“¦ {{ weapon.magazine_size }}</span>
                <span>ğŸ¯ {{ weapon.effective_range }}m</span>
                <span class="dps">ğŸ“Š DPS: {{ "%.1f"|format(weapon.calculate_dps()) }}</span>
            </div>

            <form method="POST" action="{{ url_for('remove_weapon', weapon_name=weapon.name) }}">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <button type="submit"
                        class="btn btn-danger"
                        onclick="return confirm('ç¡®å®šè¦ç§»é™¤ {{ weapon.name }} å—?')">
                    ğŸ—‘ï¸ ç§»é™¤
                </button>
            </form>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <div class="empty-icon">ğŸ’</div>
        <h3>èƒŒåŒ…æ˜¯ç©ºçš„</h3>
        <p>å»æ­¦å™¨åº“æ·»åŠ ä¸€äº›æ­¦å™¨å§!</p>
        <a href="{{ url_for('weapons') }}" class="btn btn-primary">å‰å¾€æ­¦å™¨åº“</a>
    </div>
    {% endif %}
</div>
{% endblock %}
